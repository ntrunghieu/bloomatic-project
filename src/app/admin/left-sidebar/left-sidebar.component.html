<div class="admin-layout">
    <aside class="sidebar">
        <!-- <div class="sidebar-header">
            <div class="logo-circle">A</div>
            <div class="logo-text">
                <div class="small">ADMIN</div>
                <div class="title">Bloomatic</div>
            </div>
        </div> -->

        <div class="sidebar-user">
            <button class="user-avatar" type="button" (click)="toggleUserMenu($event)"
                [attr.aria-expanded]="userMenuOpen">
                <div class="user-avatar-circle">
                    <span>{{ userInitials }}</span>
                    <span class="user-status-dot"></span>
                </div>
            </button>

            <div class="logo-text">
                <div class="small">ADMIN</div>
                <div class="title">Bloomatic</div>
            </div>

            <!-- Dropdown -->
            <div class="user-menu" *ngIf="userMenuOpen">
                <div class="user-menu-header">
                    <div class="user-menu-name">{{ adminName || 'Admin' }}</div>
                    <div class="user-menu-role">Tài khoản quản trị</div>
                </div>

                <button class="user-menu-item" type="button" (click)="goProfile()">
                    <i class="fa-solid fa-user"></i>
                    <span>Thông tin cá nhân</span>
                </button>

                <button class="user-menu-item" type="button" (click)="goAccountSettings()">
                    <i class="fa-solid fa-gear"></i>
                    <span>Cài đặt tài khoản</span>
                </button>

                <hr class="user-menu-divider" />

                <button class="user-menu-item logout" type="button" (click)="onLogout()">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span>Đăng xuất</span>
                </button>
            </div>
            
        </div>

        <nav class="sidebar-nav">
            <!-- Item đơn -->
            <!-- <a class="nav-item" [class.active]="activeView === 'dashboard'" (click)="activeView = 'dashboard'">
                <span class="icon"><i class="fa-solid fa-chart-pie"></i></span>
                <span>Dashboard</span>
            </a> -->

            <!-- Nhóm: Doanh thu -->
            <div class="nav-group" [class.open]="openGroup === 'revenue'">
                <button class="nav-group-header" (click)="toggleGroup('revenue')">
                    <span class="icon"><i class="fa-solid fa-chart-pie"></i></span>
                    <!-- <span class="icon"><i class="fa-solid fa-coins"></i></span> -->
                    <span class="text">Dashboard</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a routerLink="/admin/dashboard" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'overall'" (click)="activeView = 'overall'">
                        <span>Tổng quan</span>
                    </a>
                </div>
            </div>

            <!-- Nhóm: Quản lý rạp chiếu -->
            <div class="nav-group" [class.open]="openGroupSchedule === 'theater'">
                <button class="nav-group-header" (click)="toggleGroupSchedule('theater')">
                    <span class="icon"><i class="fa-solid fa-city"></i></span>
                    <span class="text">Quản lý rạp chiếu</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a routerLink="/admin/cinemas/list" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'theaterList'" (click)="activeView = 'theaterList'">
                        <span>Danh sách rạp chiếu</span>
                    </a>
                    <a routerLink="/admin/cinemas/create" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'theaterCreate'" (click)="activeView = 'theaterCreate'">
                        <span>Tạo rạp chiếu</span>
                    </a>
                </div>
            </div>

            <!-- Nhóm: Quản lý phim -->
            <div class="nav-group" [class.open]="openGroup === 'movies'">
                <button class="nav-group-header" (click)="toggleGroup('movies')">
                    <span class="icon"><i class="fa-solid fa-clapperboard"></i></span>
                    <span class="text">Quản lý phim</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a routerLink="/admin/movies/list" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'movieList'" (click)="activeView = 'movieList'">
                        <span>Danh sách phim</span>
                    </a>
                    <a routerLink="/admin/movies/create" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'movieCreate'" (click)="activeView = 'movieCreate'">
                        <span>Tạo phim</span>
                    </a>
                </div>
            </div>

            <!-- Nhóm: Quản lý lịch chiếu -->
            <div class="nav-group" [class.open]="openGroupSchedule === 'schedule'">
                <button class="nav-group-header" (click)="toggleGroupSchedule('schedule')">
                    <span class="icon"><i class="fa-solid fa-calendar"></i></span>
                    <span class="text">Quản lý lịch chiếu</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a routerLink="/admin/showtimes/list" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'scheduleList'" (click)="activeView = 'scheduleList'">
                        <span>Danh sách lịch chiếu</span>
                    </a>
                    <a hidden="nav-sub-item" [class.active]="activeView === 'scheduleCreate'"
                        (click)="activeView = 'scheduleCreate'">
                        <span>Tạo lịch chiếu</span>
                    </a>
                </div>
            </div>

            <!-- Nhóm: Quản lý suất chiếu -->
            <div class="nav-group" [class.open]="openGroupShowTime === 'showtime'">
                <button class="nav-group-header" (click)="toggleGroupShowTime('showtime')">
                    <span class="icon"><i class="fa-solid fa-calendar"></i></span>
                    <span class="text">Quản lý suất chiếu</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a routerLink="/admin/showtimes/sessions" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'showTimeList'" (click)="activeView = 'showTimeList'">
                        <span>Danh sách suất chiếu</span>
                    </a>
                    <a hidden class="nav-sub-item" [class.active]="activeView === 'showTimeCreate'"
                        (click)="activeView = 'showTimeCreate'">
                        <span>Tạo suất chiếu</span>
                    </a>
                </div>
            </div>

            <!-- Nhóm: Quản lý đơn hàng -->
            <div class="nav-group" [class.open]="openGroupOrders === 'orders'">
                <button class="nav-group-header" (click)="toggleGroupOrders('orders')">
                    <span class="icon"><i class="fa-solid fa-calendar"></i></span>
                    <span class="text">Quản lý đơn hàng</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a routerLink="/admin/orders" routerLinkActive="active" class="nav-sub-item"
                        [class.active]="activeView === 'ordersList'" (click)="activeView = 'orders'">
                        <span>Danh sách đơn hàng</span>
                    </a>
                    <!-- <a hidden  class="nav-sub-item" [class.active]="activeView === 'ordersCreate'"
                        (click)="activeView = 'ordersCreate'">
                        <span>Tạo suất chiếu</span>
                    </a> -->
                </div>
            </div>

            <!-- Nhóm: Quản lý vé -->
            <div class="nav-group" [class.open]="openGroupTicket === 'ticket'">
                <button class="nav-group-header" (click)="toggleGroupTicket('ticket')">
                    <span class="icon"><i class="fa-solid fa-calendar"></i></span>
                    <span class="text">Quản lý vé</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a class="nav-sub-item" [class.active]="activeView === 'ticketList'"
                        (click)="activeView = 'ticketList'">
                        <span>Danh sách vé</span>
                    </a>
                    <a class="nav-sub-item" [class.active]="activeView === 'ticketCreate'"
                        (click)="activeView = 'ticketCreate'">
                        <span>Tạo vé</span>
                    </a>
                </div>
            </div>

            <!-- Nhóm: Quản lý rạp chiếu -->
            <!-- <div class="nav-group" [class.open]="openGroupSchedule === 'theater'">
                <button class="nav-group-header" (click)="toggleGroupSchedule('theater')">
                    <span class="icon"><i class="fa-solid fa-city"></i></span>
                    <span class="text">Quản lý rạp chiếu</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">               
                    <a routerLink="/admin/cinemas/list" routerLinkActive="active" class="nav-sub-item" [class.active]="activeView === 'theaterList'"
                        (click)="activeView = 'theaterList'">
                        <span>Danh sách rạp chiếu</span>
                    </a>
                    <a routerLink="/admin/cinemas/create" routerLinkActive="active" class="nav-sub-item" [class.active]="activeView === 'theaterCreate'"
                        (click)="activeView = 'theaterCreate'">
                        <span>Tạo rạp chiếu</span>
                    </a>
                </div>
            </div> -->

            <!-- Nhóm: Khác -->
            <div class="nav-group" [class.open]="openGroup === 'others'">
                <button class="nav-group-header" (click)="toggleGroup('others')">
                    <span class="icon"><i class="fa-solid fa-ellipsis"></i></span>
                    <span class="text">Khác</span>
                    <span class="chevron"><i class="fa-solid fa-chevron-down"></i></span>
                </button>

                <div class="nav-sub">
                    <a class="nav-sub-item">
                        <span>Quản lý người dùng</span>
                    </a>
                    <a class="nav-sub-item">
                        <span>Cấu hình hệ thống</span>
                    </a>
                </div>
            </div>
        </nav>
        <!-- <div class="sidebar-user">
            <button class="user-avatar" type="button" (click)="toggleUserMenu($event)"
                [attr.aria-expanded]="userMenuOpen">
                <div class="user-avatar-circle">
                    <span>{{ userInitials }}</span>
                    <span class="user-status-dot"></span>
                </div>
            </button>

            
            <div class="user-menu" *ngIf="userMenuOpen">
                <div class="user-menu-header">
                    <div class="user-menu-name">{{ adminName || 'Admin' }}</div>
                    <div class="user-menu-role">Tài khoản quản trị</div>
                </div>

                <button class="user-menu-item" type="button" (click)="goProfile()">
                    <i class="fa-solid fa-user"></i>
                    <span>Thông tin cá nhân</span>
                </button>

                <button class="user-menu-item" type="button" (click)="goAccountSettings()">
                    <i class="fa-solid fa-gear"></i>
                    <span>Cài đặt tài khoản</span>
                </button>

                <hr class="user-menu-divider" />

                <button class="user-menu-item logout" type="button" (click)="onLogout()">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span>Đăng xuất</span>
                </button>
            </div>
            
        </div> -->
    </aside>
</div>